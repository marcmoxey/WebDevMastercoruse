<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Dom Demo</title>
        <link rel="stylesheet" href="./css/site.css">
        <link rel="icon" href="favicon.ico">
    </head>
    <body>
        <main>
            <h1>DOM Demo</h1>
            <!-- <p id="first-paragraph">Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquid ad velit, officiis doloremque harum laborum earum et. Laborum numquam labore porro expedita ullam totam! Nostrum!</p>
            
            <p id="second-paragraph" class="support-paragraph d">Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores atque nobis magnam odio ratione! Veniam?</p>

            <p id="third-paragraph" class="support-paragraph">Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed, voluptas ab? Veniam itaque nulla quaerat. Nam, consectetur quaerat. Nemo, distinctio.</p> -->

            <!-- <div id="list-section">
                <a id="add-to-list" href="#">Add New Element to list</a>
                <ul id="key-items">
                    <li>Our First LI</li>
                    <li>Our Second LI</li>
                    <li>Our Third LI</li>
                </ul>
            </div>
            <div>
                <h2 id="display-message">Send Email Demo</h2>
                <p id="status-message"></p>
                <a href="#" id="send-email">Send email with Mistake</a><br/>
                <a href="#" id="recall-email">Recall Email</a>
            </div>

            <div id="good-foods">

            </div> -->
            <form action="" method="post">
                <div>
                    <label for="fullName">Full Name: </label>
                    <input id="fullName" type="text" name="fullName" required>
                </div>
                <div>
                    <label for="guests">Number of Guests: </label>
                    <input id="guests" type="number" name="guests" required>
                </div>
                <div>
                    <button id="submit" type="submit">Submit</button>
                    <button id="reset" type="reset">Reset</button>
                </div>
            </form>
            <div id="list-section">
                <h2>Guestbook Entries</h2>
                <small>Total Guests: <span id="totalGuests">0</span></small>
                <ul id="items">

                </ul>
            </div>

           

        <script>
            'use strict';

        // DOM / Document - holds all the objects on the page
        // Window - global scope 
            
        //    const demo = document.getElementById('key-items');
        //    console.log(demo);

        // SELECTING ELEMENTS 

        // let p = document.querySelector('.support-paragraph'); // select any element on the page, but get the first one 
        // p = document.querySelector('#third-paragraph');
        // p = document.querySelector('div ul li')
        // console.log(p);
        
        // MANIPULATING ELEMENTS 

        // let q = document.querySelectorAll('.support-paragraph'); // include all items
        // q.forEach(el => console.log(el));
        
        // const p = document.getElementById('first-paragraph');
        // p.innerText = 'This is a test';

        // const list = document.querySelector('ul');
        // list.innerHTML = '<li> test 1 </li> <li>test 2 </li>';

    
        // const p2 = document.querySelector('.support-paragraph');
        // p2.remove();

        // change style
        // const headingItem = document.querySelector('h1');
        // headingItem.style.color = 'green';
        // headingItem.style.fontSize = '2.5rem';

        // add classes to element
        // const p1 = document.querySelector('p');
        // p1.classList.add('dark-mode');

        // const paragraphs = document.querySelectorAll('p');
        // paragraphs.forEach(el => {
        //     el.classList.remove('support-paragraph');
        //     el.classList.add('dark-mode');
        // });

        // paragraphs.forEach(el => {
        //     if(el.classList.contains('support-paragraph')) {
        //         el.classList.add('dark-mode');
        //     }
        // })

        // Traversing Elements

        // getting child element
        // const section = document.getElementById('list-section');
        // console.log(section);
        // const list = section.querySelector('ul');
        // console.log(list);
        // const items = list.children;
        // const itemsArray = Array.from(items);
        // for(let i = 0; i < items.length; i++) {
        //     console.log(items[i]);
            
        // }
        // console.log(items);
        // itemsArray.forEach(el => console.log(el));
        
        // getting parent element
        // const section = document.getElementById('key-items');
        // const parent = section.parentElement
        // console.log(parent);
        // const mainElement = section.closest('main');
        // console.log(mainElement);

        // getting second list item
        // let listItem = document.querySelector('li'); // can be on the same level/ indent
        // nextElementSibling, previousElementSibling
        // const nextItem = listItem.nextElementSibling;
        // console.log(nextItem);
        // const finalItem = nextItem.nextElementSibling;
        // console.log(finalItem);
        // const unknownItem = finalItem.nextElementSibling;
        // console.log(unknownItem);

        // while(listItem !== null) {
        //     console.log(listItem);
        //     listItem = listItem.nextElementSibling;
            
        // }


        // Creating HTML

        // const list = document.getElementById('key-items')
        // //console.log(list);
        // list.innerHTML += '<li>Our Fourth Li</li>';

        //const foods=['Hamburger', 'Hot Dogs', 'Pasta', 'Bread'];
        //const foodList = document.getElementById('good-foods');
        // foods.forEach(food => {
        //     // foodList.innerHTML += `<li>${food}</li>`;
        //     const el = document.createElement('li');
        //     el.innerText = food;
        //     foodList.appendChild(el);
        // });
        
        // creating a fragment
        /* const fragment = new DocumentFragment();
        foods.forEach(food => {
            const el = document.createElement('li')
            el.innerHTML = food; 
            fragment.appendChild(el);
        });
           foodList.appendChild(fragment);
            */
        // add fragment to page
     
        
        // Events 
        // const list = document.getElementById('key-items');
        // const addAction = document.getElementById('add-to-list');
        // let i = 4;


    //    addAction.addEventListener('click', addFromLink);
       
    //    function addFromLink(e) {
    //          e.preventDefault(); 
    //         const li = document.createElement('li');
    //         li.innerText = `Li #${i}`;
    //         li.classList.add('new-item');
    //         i++
    //         list.appendChild(li);
    //         //addAction.removeEventListener('click', addFromLink); // remove lister

    //         setTimeout(removeNewItemClass, 2000, li); // once two 2 seconds pass call this method
    //    }
       //(e) =>  {
        //     e.preventDefault(); // 
        //     const li = document.createElement('li');
        //     li.innerText = `Li #${i}`;
        //     i++
        //     list.appendChild(li);

        // }); 



        // const mainEl = document.querySelector('main');
        // const list = document.getElementById('key-items');
        // const mainHeading = document.querySelector('h1');

        // mainEl.addEventListener('click', addLi);
        // mainHeading.addEventListener('click', addLiFromH1);

        // let i = 4;

        // function addLi (e) {
        //    const fragment = document.createDocumentFragment();
        //    const li = document.createElement('li');
        //    li.innerText = `LI #${i}`;
        //    i++;
        //    fragment.appendChild(li);
        //    list.appendChild(fragment);
            
        // }

        // function addLiFromH1 (e) {
        //     e.stopPropagation(); // stop the click event from bubbling up
        //    const fragment = document.createDocumentFragment();
        //    const li = document.createElement('li');
        //    li.innerText = `LI from H1 #${i}`;
        //    i++;
        //    fragment.appendChild(li);
        //    list.appendChild(fragment);
            
        // }
        
        // Timed Actions 

        // function removeNewItemClass(item){
        //     // const items = list.querySelectorAll('.new-item');
        //     // const itemsArray = Array.from(items);
        //     // itemsArray.forEach(el => el.classList.remove('new-item')); 
        //     item.classList.remove('new-item');
        // }
       
        // const displayMessage = document.getElementById('display-message');
        // let timeoutId = 0;
        // const sendEmailAnchor = document.getElementById('send-email');
        // const cancelEmailAnchor = document.getElementById('recall-email');
        // let countdown = 10;
        // const statusMessage = document.getElementById('status-message');



        // sendEmailAnchor.addEventListener('click', SendEmail);
        // cancelEmailAnchor.addEventListener('click', cancelEmail);

        // function SendEmail(e) {
        //     e.preventDefault();
        //     timeoutId = setTimeout(countDownToSend);

            
        // }

        // function countDownToSend(){
        //     if(countdown > 0) {
        //         statusMessage.innerText = `Email will send in ${countdown} seconds...`
        //         countdown--;
        //         timeoutId = setTimeout(countDownToSend, 1000);
        //     } else {
        //         actuallySendEmail();
        //         countdown = 10;
        //     }
        // }
        // function cancelEmail(e) {
        //     e.preventDefault();
        //     clearTimeout(timeoutId);
        //     CancelSendEmail();
        // }

        // function actuallySendEmail(){
        //     displayMessage.innerText = 'The email has been sent!!!';
        // }

        // function CancelSendEmail() {
        //     displayMessage.innerText = 'The email has bee recalled'
        //     statusMessage.innerText = '';
        // }
        

        // Forms
        
        const submitBtn = document.getElementById('submit');
        const list = document.getElementById('items');
        const fullName = document.getElementById('fullName');
        const guestValue = document.getElementById('guests');
        const totalGuestSection = document.getElementById('totalGuests');
        let totalGuestCount = 0;

        submitBtn.addEventListener('click', submitAction);
        function submitAction(e) {
            e.preventDefault();
            const li = document.createElement('li');
            li.innerText = fullName.value;
            list.appendChild(li);
            fullName.value = '';
        
            totalGuestCount += guestValue.valueAsNumber; 
            totalGuestSection.innerText = totalGuestCount;
            guestValue.value = 0;
        }
        

        </script>
        </main>
    </body>
</html>